---
import "../styles/global.css";
---

<div class="quote text-black leading-tight relative flex flex-col items-center justify-center py-16">
  <div id="lazy-word" class="font-anton  text-red-600 font-black text-8xl leading-none z-10">
    Laziness
  </div>
  <div id="line1" class="absolute font-passero-one text-white self-start top-0 text-5xl font-semibold tracking-wide">
    My shortcut to focus
  </div>
  <div id="line2"
       class="absolute font-passero-one text-white sm:bottom-0 -bottom-10 text-5xl  font-semibold tracking-wide self-end">
    My motive to move faster
  </div>
</div>


<script>
  import gsap from "gsap";

  const lazy = document.getElementById("lazy-word");
  const line1 = document.getElementById("line1");
  const line2 = document.getElementById("line2");

  function splitText(el: HTMLElement) {
    const text = el.textContent!.trim();
    el.innerHTML = "";
    return text.split("").map(char => {
      const span = document.createElement("span");
      span.textContent = char;
      span.classList.add("inline-block");
      if (char === " ") {
        span.innerHTML = "&nbsp;";
      } else {
        span.textContent = char;
      }
      el.appendChild(span);
      return span;
    });
  }

  if (lazy && line1 && line2) {

    // Split all three into characters
    const lazyChars = splitText(lazy);
    const line1Chars = splitText(line1);
    const line2Chars = splitText(line2);

    const tl = gsap.timeline();

    // ðŸŸ¥ Scene 1 â€” Big Laziness chaos
    tl.from(lazyChars, {
      y: () => gsap.utils.random(-240, -900),
      rotation: () => gsap.utils.random(-60, 60),
      opacity: 0,
      scale: () => gsap.utils.random(0.6, 1.4),
      filter: "blur(6px)",
      duration: 1.4,
      ease: "back.out(3)",
      stagger: { each: 0.09, from: "random" }
    });

// Impact snap + blur cleanup
    tl.to(lazy, {
      filter: "blur(0px)",
      duration: 0.1
    });

// Cinematic scale punch
    tl.fromTo(
      lazy,
      { scale: 0.9 },
      {
        scale: 1.08,
        duration: 0.18,
        ease: "power2.out"
      }
    );

// Snap-back settle
    tl.to(lazy, {
      scale: 1,
      duration: 0.12,
      ease: "power3.inOut"
    });

// Micro camera shake effect
    tl.fromTo(
      lazy,
      { x: -2 },
      {
        x: 0,
        duration: 0.08,
        ease: "power1.inOut",
        repeat: 1,
        yoyo: true
      }
    );

// Glow pulse highlight
    tl.fromTo(
      lazy,
      {
        textShadow: "0 0 0px rgba(255,40,40,0.0)"
      },
      {
        textShadow: "0 0 32px rgba(255,40,40,0.55)",
        duration: 0.25,
        ease: "power2.out"
      }
    );

    tl.to(lazy, {
      textShadow: "0 0 0px rgba(255,40,40,0.0)",
      duration: 0.25,
      ease: "power2.in"
    });

    tl.to({}, { duration: 0.2 });

    tl.from(line1Chars, {
      x: () => gsap.utils.random(-600, -900),
      y: () => gsap.utils.random(-120, 120),
      rotation: () => gsap.utils.random(-120, 120),
      scaleX: () => gsap.utils.random(1.4, 2.2),
      scaleY: () => gsap.utils.random(0.6, 1.1),
      skewX: () => gsap.utils.random(-30, 30),
      filter: "blur(10px)",
      opacity: 0,
      duration: 0.3,
      ease: "expo.out",
      stagger: 0.012
    });

    tl.to(line1Chars, {
      x: 0,
      y: 0,
      rotation: 0,
      scale: 1,
      filter: "blur(0px)",
      duration: 0.12,
      ease: "power4.inOut"
    });
    tl.to(line1Chars, {
      x: 1,
      duration: 0.03,
      ease: "power1.inOut"
    }).to(line1Chars, {
      x: 0,
      duration: 0.03,
      ease: "power1.inOut"
    });

    tl.from(line2Chars, {
      x: () => gsap.utils.random(500, 900),
      y: () => gsap.utils.random(-120, 120),
      rotation: () => gsap.utils.random(-90, 90),
      scale: () => gsap.utils.random(0.7, 1.3),
      filter: "blur(6px)",
      opacity: 0,
      duration: 0.22,
      ease: "expo.out",
      stagger: { each: 0.015 }
    }, "-=0.15");

    tl.to(line2Chars, {
      x: 0,
      y: 0,
      rotation: 0,
      scale: 1,
      filter: "blur(0px)",
      duration: 0.12,
      ease: "power4.inOut"
    });
    tl.to(line2Chars, {
      x: -1,
      duration: 0.03,
      ease: "power1.inOut"
    }).to(line2Chars, {
      x: 0,
      duration: 0.03,
      ease: "power1.inOut"
    });
  }
</script>


